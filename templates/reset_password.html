{% include "_header.html" %}
{% include "_nav.html" %}

<main id="reset-password">
  <h1>Reset your password</h1>

  <form mix-post="/reset-password/{{ reset_key }}" id="reset-password-form">
    <input 
      class="input"
      type="password"
      name="user_password"
      placeholder="New password"
      mix-check="^.{2,20}$"
      title="Password must be 2â€“20 characters">

    <!-- Skjult reset_key -->
    <input type="hidden" name="reset_key" value="{{ reset_key }}">

    <button class="btn" mix-await="Resetting..." mix-default="Reset password">Reset password</button>
  </form>

  <div id="form-feedback">
    {% if message %}
      <div class="alert error">{{ message }}</div>
    {% endif %}
  </div>

  <p><a href="{{ url_for('show_login') }}">Back to login</a></p>
</main>

{% include "_footer_base.html" %}
